{% extends "todo_list/base.html" %}


{% block content %}
<title>Your Tasks</title>
<h1>Your Tasks</h1>

{% for task in late %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted"><font color="red">{{task.due|date:"F d, Y"}}</font></small>
      
    <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'complete' task.id %}">Done</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}">{{task.name}}</a> 
    {% if task.subtasks %}
  <small class="text-muted"> (Has Subtasks) </small>
   {% endif %}
  </h2>
    <p class="article-content">{{ task.description }}</p>
  </div>

</article>

{% endfor %}

{% for task in day %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted"><font color="orange">{{task.due|date:"F d, Y"}}</font></small>
      
    <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'complete' task.id %}">Done</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}">{{task.name}}</a> 
    {% if task.subtasks %}
  <small class="text-muted"> (Has Subtasks) </small>
   {% endif %}
  </h2>
    <p class="article-content">{{ task.description }}</p>
  </div>

</article>

{% endfor %}

{% for task in week %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted"><font color="blue">{{task.due|date:"F d, Y"}}</font></small>
      
    <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'complete' task.id %}">Done</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}">{{task.name}}</a> 
    {% if task.subtasks %}
  <small class="text-muted"> (Has Subtasks) </small>
   {% endif %}
  </h2>
    <p class="article-content">{{ task.description }}</p>
  </div>

</article>

{% endfor %}

{% for task in other %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted">{{task.due|date:"F d, Y"}}</small>
      
    <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'complete' task.id %}">Done</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}">{{task.name}}</a> 
    {% if task.subtasks %}
  <small class="text-muted"> (Has Subtasks) </small>
   {% endif %}
  </h2>
    <p class="article-content">{{ task.description }}</p>
  </div>

</article>

{% endfor %}

{% endblock content %}

{% block content2 %}


<div class="col-md-4">
<div class="content-section">


<h3>Assigned</h3>

{% for task in pend %}

<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted">{{task.due|date:"F d, Y"}}</small>
      
    <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'accept' task.id %}">Accept</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}"> {{task.name}}</a> 
      {% if task.parent %}
      <small class="text-muted"> (Subtask of {{ task.parent.name }}) </small>
      {% endif %}
      {% if task.subtasks %}
      <small class="text-muted"> (Has Subtasks) </small>
      {% endif %}
    </h2>


  <p class="article-content">{{ task.description }}</p>
  
  </div>

</article>
{% endfor %}

</div>
</div>

{% endblock content2 %}

{% block content3 %}
<div class="col-md-4">
<div class="content-section">
<h3>Completed</h3>

{% for task in done %}
<article class="media content-section">
  <div class="media-body">
    <div class="article-metadata">
      <a class="mr-2" href="{% url 'user-tasks' task.assigner.username %}">{{ task.assigner.first_name}} {{ task.assigner.last_name}}</a>
      <small class="text-muted">{{task.due|date:"F d, Y"}}</small>
      <a class="btn btn-outline-secondary btn-sm mt-0 mb-1" href ="{%url 'todo' task.id %}">Not Done</a>
    </div>
    <h2>
    <a class="article-title" href="{% url 'task-detail' task.id %}">{{task.name}}</a> 
  </h2>
  </div>

</article>
{% endfor %}

</div>
</div>
{% endblock content3 %}
